{% extends "base.html" %}
{% block title %}–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞{% endblock %}
{% block content %}
<h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–æ—Ç–∞</h1>
<table class="table table-bordered table-hover">
  <thead class="table-light">
    <tr>
      <th>ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</th>
      <th>–§–ò–û</th>
      <th>–î–æ–ª–∂–Ω–æ—Å—Ç—å</th>
      <th>–†–æ–ª—å</th>
      <th>–î–µ–π—Å—Ç–≤–∏—è</th>
    </tr>
  </thead>
  <tbody>
    {% for user in users %}
    <tr>
      <td>{{ user[0] }}</td>
      <td>{{ user[1] }}</td>
      <td>{{ user[2] }}</td>
      <td>{{ user[3] if user|length > 3 else 'user' }}</td>
      <td>
        <a href="{{ url_for('edit_user', user_id=user[0]) }}" class="btn btn-sm btn-info">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
        <a href="{{ url_for('delete_user', user_id=user[0]) }}" class="btn btn-sm btn-danger" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?');">–£–¥–∞–ª–∏—Ç—å</a>
        <div class="btn-group" role="group">
          {% if (user|length > 3 and user[3] != 'admin') or (user|length < 4) %}
          <a href="{{ url_for('assign_role', user_id=user[0], role='admin') }}" class="btn btn-sm btn-danger" onclick="return confirm('–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º?');">üëë –ê–¥–º–∏–Ω</a>
          {% endif %}
          {% if (user|length > 3 and user[3] != 'moderator') or (user|length < 4) %}
          <a href="{{ url_for('assign_role', user_id=user[0], role='moderator') }}" class="btn btn-sm btn-warning" onclick="return confirm('–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–æ–¥–µ—Ä–∞—Ç–æ—Ä–æ–º?');">üõ°Ô∏è –ú–æ–¥–µ—Ä–∞—Ç–æ—Ä</a>
          {% endif %}
          {% if (user|length > 3 and user[3] != 'marketer') or (user|length < 4) %}
          <a href="{{ url_for('assign_role', user_id=user[0], role='marketer') }}" class="btn btn-sm btn-success" onclick="return confirm('–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –º–∞—Ä–∫–µ—Ç–æ–ª–æ–≥–æ–º?');">üì¢ –ú–∞—Ä–∫–µ—Ç–æ–ª–æ–≥</a>
          {% endif %}
          {% if (user|length > 3 and user[3] != 'user') or (user|length < 4) %}
          <a href="{{ url_for('assign_role', user_id=user[0], role='user') }}" class="btn btn-sm btn-secondary" onclick="return confirm('–ù–∞–∑–Ω–∞—á–∏—Ç—å —ç—Ç–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ–±—ã—á–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º?');">üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å</a>
          {% endif %}
        </div>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<a href="{{ url_for('dashboard') }}" class="btn btn-secondary">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</a>
{% endblock %}
